<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="AttendeeMapper">

    <!--투표 테이블 전체 칼럼-->
    <sql id="voteColumns">
         vote_id
        ,vote_date
    </sql>

    <!--투표대상 날짜 생성-->
    <insert id="createDate" parameterType="footBall.attendee.AttendeeDto" useGeneratedKeys="true" keyProperty="voteId">
        INSERT INTO vote(
            vote_date
        )
        VALUES(
            #{voteDate}
        )
    </insert>

    <!--투표대상 날짜 삭제-->
    <delete id="deleteDate" parameterType="footBall.attendee.AttendeeDto">
        DELETE FROM vote
        WHERE vote_date = #{voteDate}
    </delete>

    <!--투표대상 날짜 조회-->
    <select id="getDate" parameterType="footBall.attendee.AttendeeDto" resultType="footBall.attendee.AttendeeDto">
        SELECT *
        FROM vote
        WHERE vote_date = #{voteDate};
    </select>

    <!--투표대상 날짜 존재여부 판별-->
    <select id="findDate" parameterType="footBall.attendee.AttendeeDto" resultType="int">
        SELECT COUNT(*)
        FROM vote
        WHERE vote_date = #{voteDate};
    </select>
</mapper>